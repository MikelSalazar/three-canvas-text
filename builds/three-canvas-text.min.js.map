{"version":3,"names":["THREE","Text","Mesh","constructor","data","super","this","isText","debug","string","name","font","undefined","Font","list","family","Error","texts","push","fontStyle","lineSize","gridSize","color","align","anchor","backface","padding","margin","canvas","document","createElement","geometry","BufferGeometry","material","MeshBasicMaterial","transparent","update","cssFontText","toString","context","getContext","width","height","lines","split","lineCount","length","lineIndex","lineMeasurement","measureText","lineWidth","Math","abs","actualBoundingBoxLeft","actualBoundingBoxRight","lineHeight","actualBoundingBoxAscent","actualBoundingBoxDescent","scale","doublePadding","doubleMargin","ceil","aspect","clearRect","fillStyle","translateX","textAlign","textBaseline","fillText","map","CanvasTexture","needsUpdate","size","gridX","floor","gridX1","gridY","gridY1","segmentWidth","segmentHeight","halfWidth","halfHeight","vertices","normals","uvs","faces","iy","y","ix","x","a","b","c","d","verticesDataSize","uvsDataSize","normalsDataSize","faceDataSize","vertexCount","triangleCount","f","v","n","u","translateY","includes","attribute","Float32BufferAttribute","setIndex","setAttribute","SphereGeometry","add","wireframe","isFont","Object","keys","resolution","files","sourcesString","Array","isArray","file","path","style","console","log","fontFace","FontFace","fonts","load","then","fontData","loaded","text","static","minValue","maxValue","vs","String","fromCharCode","fontFamily","check","defaultFonts","testFonts","testText","createCharacters","testFont","w1","w2"],"sources":["Text.js","Font.js"],"mappings":"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"}